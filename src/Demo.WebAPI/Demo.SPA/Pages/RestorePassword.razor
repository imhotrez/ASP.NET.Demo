@page "/restorePassword"

@using System.ComponentModel.DataAnnotations;
@using System.Text.Json;
<style>
    .displayed {
        display: block;
        margin-left: auto;
        margin-right: auto;
        margin-top: 5%;
    }
</style>
<div >
    <Card Class="displayed" Title="Восстановление пароля" Style="width:350px; vertical-align: center; horiz-align: center; text-align: center" Bordered="true">
        <Body>
        <Form Model="@model"
              Layout="@FormLayout.Vertical"
              OnFinish="OnFinish"
              OnFinishFailed="OnFinishFailed"
              LabelColSpan="16"
              WrapperColSpan="16">
            <FormItem Label="E-Mail" WrapperColOffset="0" WrapperColSpan="0" Style="margin-top: -10px">
                <Input @bind-Value="@context.Username"/>
            </FormItem>
            <FormItem WrapperColOffset="0" WrapperColSpan="0">
                <Button Type="@ButtonType.Primary" HtmlType="submit" Style="width:300px;">
                    Восстановить пароль
                </Button>
            </FormItem>
            <FormItem WrapperColOffset="6" WrapperColSpan="10" Style="margin-top: -15px; margin-bottom: -7px">
                <NavLink class="nav-link" href="registration" >
                    Зарегистрироваться
                </NavLink>
            </FormItem>
        </Form>
        </Body>
    </Card>
</div>


@code
{
    public class Model {
        [Required]
        public string Username { get; set; }

        [Required]
        public string Password { get; set; }

        public bool RememberMe { get; set; } = true;
    }

    private Model model = new Model();

    private void OnFinish(EditContext editContext) {
        Console.WriteLine($"Success:{JsonSerializer.Serialize(model)}");
    }

    private void OnFinishFailed(EditContext editContext) {
        Console.WriteLine($"Failed:{JsonSerializer.Serialize(model)}");
    }
}